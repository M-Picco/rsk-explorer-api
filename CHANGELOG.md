# Changelog

## [Unrealeased]

### Added

- Websocket channels and subscriptions
- Autogenerated API documentation
- API http endpoints
- API stats module
- API stats channel
- tools/wsChannel

### Changed

- The websocket API, don't broadcasts messages any more,
  to listen to changes a channel subscription is required.
- API responses: remove 'result' container
- Renamed API module 'txs' to 'transactions'
- Updated tools/statusClient to channels API

## [0.7.4] - 2019-03-13

### Added

- tools/updateContractAccounts
- API/Blocks.circulatingSupply()
- API/Address.getCirculatingSupply()
- routes/circulating

### Changed

- http server
- queries and collections indexes to improve performance
- API/Token/getTokenBalance: include filter by addresses 
  and add account balance when filter is present 

### Fixed

- tools/getBlock: help message
- services/classes/Block.deleteBlockDataFromDb

## [0.7.3] - 2019-03-04

### Changed

- DataCollectorItem.getOne()

### Fixed

- API/Txs.getTransactionWithAddressData()

### Removed

- WS automatic (broadcasted) announcements

## [0.7.2] - 2019-03-01
### Added

- Remasc events decoder
- API/TokenAccount.getTokenBalance()
- API/Event.getAllEventsByAddress()

### Changed

- API/Event.getEventsByAddress()

### Fixed

- tools/wsGet

## [0.7.1] - 2019-02-21

### Added

- API/Addresses: contract creation sort

### Changed

- tx collection indexes
- API/Address, sort by contract creation date

### Removed

- API/Txs, timestamp sort

## [0.7.0] - 2019-02-20

### Added

- DataCollector: cursor pagination
- Log request to API
- DataCollector
  - Defaults fields
  - getPages param

### Changed

- Pagination system to cursor pagination
- Transactions and events IDs
- API sortable fields and defaults sorts
- API/Addresses.txBalance
- Block.save() resets address.txBalance to 0 when saves an address
- Change userEvents.updateAddress: if !txBalance update from txs in db
- Add txBalance to getAddress delayedFields
- DataCollector, count records as default was removed,
  to enable it, two boolean params were added: count and countOnly.
  From now pagination total is null as default.
- Added field selection to DataCollector throught 'fields' parameter.
- Add 'count' and 'countOnly" parameters to pagination methods
- The way to get address balance from transactions
- Services/classes/Address.updateTxBalance()
- Services/classes/Block, runs Address.updateTxBalance() on Block.save()
- Tools/wsGet to new API
- Collections indexes

### Removed

- API/index
- dbPatches
- API/Addresses.getAddress(), query param

### Fixed

- services/Block.deleteBlockDataFromDb
- services/blockChecker, handle promise rejection
