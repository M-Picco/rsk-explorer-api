# Changelog

## [Unrealeased]

### Added

- Websocket channels and subscriptions
- Autogenerated api documentation
- Api http endpoints
- Api stats module
- Api stats channel
- tools/wsChannel

### Changed

- The websocket api, don't broadcasts messages any more,
  to listen to changes a channel subscription is required.
- Api responses: remove 'result' container
- Rename Api module 'txs' to 'transactions'
- tools/statusClient to channels api

## [0.7.4] - 2019-03-13

### Added

- tools/updateContractAccounts
- api/Blocks.circulatingSupply()
- api/Address.getCirculatingSupply()
- routes/circulating

### Changed

- http server
- queries and collections indexes to improve performance
- api/Token/getTokenBalance: filter by addresses sends accounts balances 

### Fixed

- tools/getBlock: help message
- services/classes/Block.deleteBlockDataFromDb

## [0.7.3] - 2019-03-04

### Changed

- DataCollectorItem.getOne()

### Fixed

- api/Txs.getTransactionWithAddressData()

### Removed

- WS automatic (broadcasted) announcements

## [0.7.2] - 2019-03-01
### Added

- remasc events decoder
- api/TokenAccount.getTokenBalance()
- api/Event.getAllEventsByAddress()

### Changed

- api/Event.getEventsByAddress()

### Fixed

- tools/wsGet

## [0.7.1] - 2019-02-21

### Added

- api/Addresses: contract creation sort

### Changed

- tx collection indexes
- api/Address, sort by contract creation date

### Removed

- api/Txs, timestamp sort

## [0.7.0] - 2019-02-20

### Added

- DataCollector: cursor pagination
- Log request to api
- DataCollector
  - Defaults fields
  - getPages param

### Changed

- Pagination system to cursor pagination
- Transactions and events id
- Api sortable fields and sorts
- Api/Addresses.txBalance
- Block.save() reset address.txBalance to 0 when save an addess
- Change userEvents.updateAddress: if !txBalance update from txs in db
- Add txBalance to getAddress delayedFields
- DataCollector params:
  - avoid count as default
  - new params: fields, count and countOnly 
- Pagination.total = null as default
- Add 'count' and 'countOnly" parametes to pagination methods
- Way to get address balance from transactions
- services/classes/Address.updateTxBalance()
- services/classes/Block, run Address.updateTxBalance() on Block.save()
- tools/wsGet to new api
- Collections indexes

### Removed

- api/index
- dbPatches
- api/Addresses.getAddress(), query param

### Fixed

- services/Block.deleteBlockDataFromDb
- services/blockChecker, handle promise rejection
